# =============================================================================
# Django EdgeSync Configuration Template
# =============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Django Core Settings
# -----------------------------------------------------------------------------
DJANGO_SETTINGS_MODULE=edgesync.settings

# Set to False in production
DEBUG=False

# Generate a new secret key for production: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-secret-key-here

# Comma-separated list of allowed hosts (your domain names and IPs)
# Example: ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,your-server-ip
ALLOWED_HOSTS=localhost,127.0.0.1

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# For local development: redis://127.0.0.1:6379/0
# For production: redis://your-redis-server:6379/0
REDIS_URL=redis://127.0.0.1:6379/0

# -----------------------------------------------------------------------------
# MQTT Broker Configuration
# -----------------------------------------------------------------------------
MQTT_BROKER_HOST=your-mqtt-broker-ip
MQTT_BROKER_PORT=1883
MQTT_BROKER_WEBSOCKET_PORT=1884

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# For local: http://localhost:8000
# For production: https://yourdomain.com
API_BASE_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
# For local: http://localhost:3000,http://127.0.0.1:3000
# For production: https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# Google OAuth Credentials
# -----------------------------------------------------------------------------
# Get these from Google Cloud Console: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# Mosquitto Database Configuration
# -----------------------------------------------------------------------------
MOSQUITTO_DB_NAME=mosquittoauth
MOSQUITTO_DB_USER=your-db-user
MOSQUITTO_DB_PASSWORD=your-db-password
MOSQUITTO_DB_HOST=your-db-host
MOSQUITTO_DB_PORT=3306

# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
# For Gmail: Use App Password (not your regular password)
# 1. Enable 2-Factor Authentication in your Google Account
# 2. Go to https://myaccount.google.com/apppasswords
# 3. Generate an App Password for "Mail"
# 4. Use that 16-character password below
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=your-email@gmail.com

# -----------------------------------------------------------------------------
# HTTPS Security Settings (Production Only)
# -----------------------------------------------------------------------------
# Enable these only when deploying with HTTPS/SSL
# Set all to True in production with HTTPS enabled

# Force all HTTP requests to redirect to HTTPS
SECURE_SSL_REDIRECT=False

# Trust the X-Forwarded-Proto header from your proxy (Nginx/Apache)
# Format: HEADER_NAME,value (e.g., HTTP_X_FORWARDED_PROTO,https)
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https

# Ensure cookies are only sent over HTTPS
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# Browser security headers
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True

# -----------------------------------------------------------------------------
# Django Allauth Settings
# -----------------------------------------------------------------------------
# Protocol to use for OAuth redirects (http for local, https for production)
ACCOUNT_DEFAULT_HTTP_PROTOCOL=http

# Email verification: none, optional, or mandatory
ACCOUNT_EMAIL_VERIFICATION=none

# =============================================================================
# Production Example (.env for deployment)
# =============================================================================
# DEBUG=False
# SECRET_KEY=your-production-secret-key
# ALLOWED_HOSTS=roboworksautomation.in,www.roboworksautomation.in
# API_BASE_URL=https://roboworksautomation.in
# CORS_ALLOWED_ORIGINS=https://roboworksautomation.in,https://www.roboworksautomation.in
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# ACCOUNT_DEFAULT_HTTP_PROTOCOL=https
# ACCOUNT_EMAIL_VERIFICATION=optional
# =============================================================================
